<!DOCTYPE html>
<html>
<head>
    <title>{{title}}</title>
    <link rel="stylesheet" href="/stylesheets/layui-v2.3.0/layui/css/layui.css">
    <style>
        *{
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        .wrap{
            position: relative;
            top: 0;
            left: 0;
            padding: 110px 0;
        }

        .login-box{
            width: 375px;
            margin: 0 auto;
        }

        h1{
            margin-bottom: 10px;
            font-weight: 300;
            font-size: 30px;
            color: #000;
            text-align: center;
            padding: 20px;
        }

        h4{
            font-weight: 300;
            color: #999;
            text-align: center;
        }

        form{
            padding: 20px;
        }

        .layui-form-item{
            position: relative;
            margin-bottom: 15px;
            clear: both;
        }


        .layadmin-user-login-icon {
            position: absolute;
            left: 1px;
            top: 1px;
            width: 38px;
            line-height: 36px;
            text-align: center;
            color: #d2d2d2;
            font-size: 16px;
            font-style: normal;
        }


        .layui-input{
            height: 38px;
            line-height: 1.3;
            border: 1px solid #e6e6e6;
            padding-left: 38px;
            display: block;
            width: 100%;
            outline: 0;
        }

        .layui-input:hover, .layui-textarea:hover {
            border-color: #D2D2D2!important;
        }

        .vercode{
            width: 60%;
            float: left;
        }


        .layui-form-checkbox, .layui-form-checkbox *, .layui-form-switch {
            display: inline-block;
            vertical-align: middle;
        }
        .layui-form-checkbox i {
            position: absolute;
            right: 0;
            top: 0;
            width: 30px;
            height: 28px;
            border: 1px solid #d2d2d2;
            border-left: none;
            border-radius: 0 2px 2px 0;
            color: #fff;
            font-size: 20px;
            text-align: center;
        }

        .layui-form-checkbox i {
            position: relative;
            top: 0;
            width: 16px;
            height: 16px;
            line-height: 16px;
            border: 1px solid #d2d2d2;
            font-size: 12px;
            border-radius: 2px;
            background-color: #fff;
            -webkit-transition: .1s linear;
            transition: .1s linear;
        }

        .layui-form-checkbox span{
            float: right;
            padding-right: 15px;
            padding-top: 6px;
            line-height: 18px;
            height: 100%;
            font-size: 14px;
            background: 0 0;
            color: #666;
            overflow: hidden;
            white-space: nowrap;
            text-overflow: ellipsis;
        }

        .ver-svg{
            float: right;
            width: 35%;
        }
        
        .btn{
            display: block;
            width: 200px;
            height: 45px;
            background: rgb(6, 170, 157);
            color: #fff;
            text-align: center;
            line-height: 25px;
            border: none;
            border-radius: 3px;
            font-size: 18px;
            margin:0 auto;
            cursor: pointer;
        }
    </style>
    <script src="/javascripts/jQuery.js"></script>
</head>
<body>
<div class="wrap">
    <div class="login-box">
        <h1>layuiAdmin</h1>
        <h4>layui 官方出品的单页面后台管理模板系统</h4>

        <form action="/login-ver" method="post" >
            <div class="layui-form-item">
                <label class="layadmin-user-login-icon layui-icon-username"></label>
                <input type="text" name="username" class="layui-input  name" placeholder="用户名">
            </div>
            <div class="layui-form-item">
                <label class="layadmin-user-login-icon layui-icon layui-icon-password"></label>
                <input type="password" name="pwd" class="layui-input pwd" placeholder="密码">
            </div>
            <div class="layui-form-item">
                <label class="layadmin-user-login-icon layui-icon layui-icon-vercode"></label>
                <input type="text" class="layui-input vercode" placeholder="图形验证码" name="vercode">
                <img src="/captcha" alt="" class="ver-svg">
            </div>
            <div class="layui-form-item layui-form-checkbox">
                <span>记住密码</span>
                <i class="layui-icon layui-icon-ok"></i>
            </div>
            <div class="layui-form-item">
                <input type="button" value="登录" class="btn">
            </div>
        </form>
    </div>
</div></body>
<script>
    $('.ver-svg').click(
      function () {
          $(this).prop('src','/captcha?nid='+Math.random()+Math.random()+Math.random());//点击更新验证码
      }
    );
    $('.btn').click(function () {
        var vercode = $('.vercode').val(); //保持输入的验证码
        var getCookieCode = /code=([^;]+)/i.exec(document.cookie)[1]; //得到cookie中的验证码
        if(vercode.toLowerCase() == getCookieCode.toLowerCase()){
            alert('验证码正确');
            //验证码输入正确 则提交数据  每一个表单都有submit事件可以触发提交事件
            $('form').submit();
        }else{
            alert("验证码输入错误");
            $('.ver-svg').prop('src','/captcha?nid='+Math.random()+Math.random()+Math.random());//如果输入错误更新验证码
            return false;
        }
    });
</script>
</html>





